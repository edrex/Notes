<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Androidandlaptop</title>
  <style>
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<section id="androidandlaptop" class="level1">
<h1>AndroidAndLaptop</h1>
<p>Created Wednesday 07 August 2019</p>
<section id="scenario" class="level2">
<h2>Scenario</h2>
<p>Jane has a Linux laptop and an Android phone. The phone has a relatively small storage (32GB) and the laptop has more (512GB).</p>
</section>
<section id="strategy" class="level2">
<h2>Strategy</h2>
<ul>
<li>Synchronize user data from phone to laptop using a <strong>one-way</strong> <a href="../../Syncthing.html">:Syncthing</a> share.</li>
<li>Create hourly incremental encrypted full-disk laptop backups to Backblaze B2 using <a href="../../Restic.html">:Restic</a>
<ul>
<li>Should use systemd units to fire backups every hour. See <a href="https://github.com/erikw/restic-systemd-automatic-backup" class="uri">https://github.com/erikw/restic-systemd-automatic-backup</a> for a complete setup.</li>
</ul></li>
<li>Backup decryption keys along with b2 account information to one or more USB thumb drives, protected with password. Write password and account info down in a known book or similar in case forgotten.</li>
</ul>
</section>
<section id="failure-modes" class="level2">
<h2>Failure modes</h2>
<section id="phone-lostdestroyed" class="level3">
<h3>Phone lost/destroyed</h3>
<ul>
<li>Live backup is available on laptop</li>
</ul>
</section>
<section id="files-accidentally-deleted-on-phone" class="level3">
<h3>Files accidentally deleted on phone</h3>
<ul>
<li>Recover previous snapshot from cloud backup using restic command line tool</li>
<li><a href="https://restic.readthedocs.io/en/latest/050_restore.html" class="uri">https://restic.readthedocs.io/en/latest/050_restore.html</a></li>
</ul>
</section>
<section id="files-accidentally-deleted-on-laptop" class="level3">
<h3>Files accidentally deleted on laptop</h3>
<ul>
<li>Same, recover from previous cloud snapshot</li>
</ul>
</section>
<section id="laptop-lostdestroyed" class="level3">
<h3>Laptop lost/destroyed</h3>
<p>Either:</p>
<ul>
<li>(Advanced) Use a live cd with restic together with your thumb drive key backup to restore entire disk to new laptop</li>
<li>(Simple) Use restic on new laptop to restore user data, again using backed up key.</li>
</ul>
</section>
</section>
<section id="cost" class="level2">
<h2>Cost</h2>
<p><a href="https://www.backblaze.com/b2/cloud-storage-pricing.html" class="uri">https://www.backblaze.com/b2/cloud-storage-pricing.html</a> - 500GB storage: $2.50/mo (will grow slowly over time but can easily be trimmed using restic command line tool) - Download is $0.02/GB so a full system laptop restore would cost $10, while a phone restore would cost $0.16.</p>
</section>
</section>
</body>
</html>
